<!--
Created by hlorenzo on 05/08/2017.
 -->
<div class="btn-ctrl">
    <a class="btn btn-primary btn-crear" ui-sref="admin/libro/create">
        <span translate="admin.libro.create.title"></span>
    </a>
</div>

<!-- Selects de filtros -->
<div class="row">

    <filter filter="ctrl.filter.key" class="col-sm-3"></filter>


    <div class="selectores">
        <div class="col-sm-1">
            <label>{{'admin.prototexto.form.concluido' | translate}}</label>
        </div>
        <div class="form-group col-sm-2">
            <enum-modificado-select id="noConcluido"
                                    model="ctrl.filter.concluido"
                                    options="[true, false]"
                                    base="enum.concluido"
                                    required="false">
            </enum-modificado-select>
        </div>
        <div class="form-group col-sm-1">
            <label>{{'admin.prototexto.form.revisado' | translate}}</label>
        </div>
        <div class="form-group col-sm-2">
            <enum-modificado-select id="noRevisado"
                                    model="ctrl.filter.revisado"
                                    options="[true, false]"
                                    base="enum.revisado"
                                    required="false">
            </enum-modificado-select>
        </div>
    </div>
</div>

<div class="total-elementos">
    <label>{{'admin.total-elementos' | translate}}: {{ctrl.tableParams.total()}}
    </label>
</div>


<div class="table-responsive">
    <table ng-table="ctrl.tableParams" class="table table-condensed table-bordered table-striped table-hover"
           class="ng-cloak">

        <tr ng-repeat="element in $data track by element.id" class="animate">



            <!-- Muestro la numeración automática -->
            <td data-title="'admin.prototexto.form.numeracionAutomatica' | translate" sortable="'numeracionAutomatica'" class="col-md-1">
                <a ui-sref="admin/libro/edit({id: element.id})" title="{{'admin.form.button.edit' | translate}}">
                    {{element.numeracionAutomatica}}
                </a>
            </td>

            <td data-title="'admin.libro.form.titulo' | translate" sortable="'titulo'" class="col-md-5">
                <a ui-sref="admin/libro/edit({id: element.id})" title="{{'admin.form.button.edit' | translate}}">
                    {{element.titulo}}
                </a>
            </td>

            <!-- Prescindimos de ella hasta conocer mejor lo que quieren respecto a la categoría en libros y ponemos contem
            <td data-title="'admin.libro.form.tipo' | translate" sortable="'tipo'">
                <enumerado base="enum.tipo-libro" value="{{element.tipo}}"></enumerado>
            </td>
            -->

            <td data-title="'admin.libro.form.capitulos' | translate" sortable="'numeroCapitulos'">
                <a ui-sref="admin/libro/edit({id: element.id})" title="{{'admin.form.button.edit' | translate}}">
                    {{element.numeroCapitulos}}
                </a>
            </td>

            <td data-title="'admin.libro.form.ediciones' | translate" sortable="'numeroEdiciones'">
                <a ui-sref="admin/libro/edit({id: element.id})" title="{{'admin.form.button.edit' | translate}}">
                    {{element.numeroEdiciones}}
                </a>
            </td>

            <td data-title="'admin.libro.form.revisado' | translate" sortable="'revisado'"  class="col-md-1 text-center">
                <a title="{{'admin.form.button.edit' | translate}}">

                    <span ng-if= "element.revisado === true" class="glyphicon glyphicon-eye-open"></span>

                    <span ng-if= "element.revisado === false" class="glyphicon glyphicon-eye-close"></span>

                </a>
            </td>

            <td data-title="'admin.libro.form.concluido' | translate" sortable="'concluido'"  class="col-md-1 text-center">
                <a title="{{'admin.form.button.edit' | translate}}">

                    <span ng-if= "element.concluido === true" class="glyphicon glyphicon-check"></span>

                    <span ng-if= "element.concluido === false" class="glyphicon glyphicon-unchecked"></span>

                </a>
            </td>

            <td class="col-md-1 text-center button-icons">
                <a ui-sref="admin/libro/edit({id: element.id})" class="button glyphicon glyphicon-pencil"
                   title="{{'admin.form.button.edit' | translate}}"></a>
                <a ng-click="ctrl.showRemoveConfirmation(element.id)" class="button glyphicon glyphicon-remove"
                   title="{{'admin.form.button.delete' | translate}}"></a>
            </td>
        </tr>
    </table>
</div>
<loading is-loading="ctrl.loading" class="center-block"></loading>
